"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4116],{7423:(se,q,w)=>{w.d(q,{Uw:()=>O,fo:()=>W});var l=w(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var e=(()=>{return(i=e||(e={})).Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE",e;var i})();class D extends Error{constructor(t,n,o){super(t),this.message=t,this.code=n,this.data=o}}const N=i=>{var t,n,o,c,r;const u=i.CapacitorCustomPlatform||null,s=i.Capacitor||{},P=s.Plugins=s.Plugins||{},f=i.CapacitorPlatforms,B=(null===(t=f?.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==u?u.name:(i=>{var t,n;return i?.androidBridge?"android":null!==(n=null===(t=i?.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(i)),le=(null===(n=f?.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==B()),de=(null===(o=f?.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(p=>!(!V.get(p)?.platforms.has(B())&&!ie(p))),ie=(null===(c=f?.currentPlatform)||void 0===c?void 0:c.getPluginHeader)||(p=>{var v;return null===(v=s.PluginHeaders)||void 0===v?void 0:v.find(j=>j.name===p)}),V=new Map,pe=(null===(r=f?.currentPlatform)||void 0===r?void 0:r.registerPlugin)||((p,v={})=>{const j=V.get(p);if(j)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),j.proxy;const U=B(),$=ie(p);let T;const ve=function(){var k=(0,l.Z)(function*(){return!T&&U in v?T=T="function"==typeof v[U]?yield v[U]():v[U]:null!==u&&!T&&"web"in v&&(T=T="function"==typeof v.web?yield v.web():v.web),T});return function(){return k.apply(this,arguments)}}(),Y=k=>{let C;const _=(...M)=>{const Z=ve().then(y=>{const S=((k,C)=>{var _,M;if(!$){if(k)return null===(M=k[C])||void 0===M?void 0:M.bind(k);throw new D(`"${p}" plugin is not implemented on ${U}`,e.Unimplemented)}{const Z=$?.methods.find(y=>C===y.name);if(Z)return"promise"===Z.rtype?y=>s.nativePromise(p,C.toString(),y):(y,S)=>s.nativeCallback(p,C.toString(),y,S);if(k)return null===(_=k[C])||void 0===_?void 0:_.bind(k)}})(y,k);if(S){const F=S(...M);return C=F?.remove,F}throw new D(`"${p}.${k}()" is not implemented on ${U}`,e.Unimplemented)});return"addListener"===k&&(Z.remove=(0,l.Z)(function*(){return C()})),Z};return _.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(_,"name",{value:k,writable:!1,configurable:!1}),_},re=Y("addListener"),oe=Y("removeListener"),ke=(k,C)=>{const _=re({eventName:k},C),M=function(){var y=(0,l.Z)(function*(){const S=yield _;oe({eventName:k,callbackId:S},C)});return function(){return y.apply(this,arguments)}}(),Z=new Promise(y=>_.then(()=>y({remove:M})));return Z.remove=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield M()}),Z},X=new Proxy({},{get(k,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return $?ke:re;case"removeListener":return oe;default:return Y(C)}}});return P[p]=X,V.set(p,{name:p,proxy:X,platforms:new Set([...Object.keys(v),...$?[U]:[]])}),X});return s.convertFileSrc||(s.convertFileSrc=p=>p),s.getPlatform=B,s.handleError=p=>i.console.error(p),s.isNativePlatform=le,s.isPluginAvailable=de,s.pluginMethodNoop=(p,v,j)=>Promise.reject(`${j} does not have an implementation of "${v}".`),s.registerPlugin=pe,s.Exception=D,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},x=(i=>i.Capacitor=N(i))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),W=x.registerPlugin;class O{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){var o=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const r=this.windowListeners[t];r&&!r.registered&&this.addWindowListener(r);const u=function(){var P=(0,l.Z)(function*(){return o.removeListener(t,n)});return function(){return P.apply(this,arguments)}}(),s=Promise.resolve({remove:u});return Object.defineProperty(s,"remove",{value:(P=(0,l.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield u()}),function(){return P.apply(this,arguments)})}),s;var P}removeAllListeners(){var t=this;return(0,l.Z)(function*(){t.listeners={};for(const n in t.windowListeners)t.removeWindowListener(t.windowListeners[n]);t.windowListeners={}})()}notifyListeners(t,n){const o=this.listeners[t];o&&o.forEach(c=>c(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:o=>{this.notifyListeners(n,o)}}}unimplemented(t="not implemented"){return new x.Exception(t,e.Unimplemented)}unavailable(t="not available"){return new x.Exception(t,e.Unavailable)}removeListener(t,n){var o=this;return(0,l.Z)(function*(){const c=o.listeners[t];if(!c)return;const r=c.indexOf(n);o.listeners[t].splice(r,1),o.listeners[t].length||o.removeWindowListener(o.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){!t||(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const A=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),L=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class h extends O{getCookies(){return(0,l.Z)(function*(){const t=document.cookie,n={};return t.split(";").forEach(o=>{if(o.length<=0)return;let[c,r]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");c=L(c).trim(),r=L(r).trim(),n[c]=r}),n})()}setCookie(t){return(0,l.Z)(function*(){try{const n=A(t.key),o=A(t.value),c=`; expires=${(t.expires||"").replace("expires=","")}`,r=(t.path||"/").replace("path=",""),u=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${o||""}${c}; path=${r}; ${u};`}catch(n){return Promise.reject(n)}})()}deleteCookie(t){return(0,l.Z)(function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,l.Z)(function*(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})()}clearAllCookies(){var t=this;return(0,l.Z)(function*(){try{yield t.clearCookies()}catch(n){return Promise.reject(n)}})()}}W("CapacitorCookies",{web:()=>new h});const d=function(){var i=(0,l.Z)(function*(t){return new Promise((n,o)=>{const c=new FileReader;c.onload=()=>{const r=c.result;n(r.indexOf(",")>=0?r.split(",")[1]:r)},c.onerror=r=>o(r),c.readAsDataURL(t)})});return function(n){return i.apply(this,arguments)}}();class ce extends O{request(t){return(0,l.Z)(function*(){const n=((i,t={})=>{const n=Object.assign({method:i.method||"GET",headers:i.headers},t),c=((i={})=>{const t=Object.keys(i);return Object.keys(i).map(c=>c.toLocaleLowerCase()).reduce((c,r,u)=>(c[r]=i[t[u]],c),{})})(i.headers)["content-type"]||"";if("string"==typeof i.data)n.body=i.data;else if(c.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[u,s]of Object.entries(i.data||{}))r.set(u,s);n.body=r.toString()}else if(c.includes("multipart/form-data")){const r=new FormData;if(i.data instanceof FormData)i.data.forEach((s,P)=>{r.append(P,s)});else for(const s of Object.keys(i.data))r.append(s,i.data[s]);n.body=r;const u=new Headers(n.headers);u.delete("content-type"),n.headers=u}else(c.includes("application/json")||"object"==typeof i.data)&&(n.body=JSON.stringify(i.data));return n})(t,t.webFetchExtra),o=((i,t=!0)=>i?Object.entries(i).reduce((o,c)=>{const[r,u]=c;let s,P;return Array.isArray(u)?(P="",u.forEach(f=>{s=t?encodeURIComponent(f):f,P+=`${r}=${s}&`}),P.slice(0,-1)):(s=t?encodeURIComponent(u):u,P=`${r}=${s}`),`${o}&${P}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),c=o?`${t.url}?${o}`:t.url,r=yield fetch(c,n),u=r.headers.get("content-type")||"";let P,f,{responseType:s="text"}=r.ok?t:{};switch(u.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":f=yield r.blob(),P=yield d(f);break;case"json":P=yield r.json();break;default:P=yield r.text()}const J={};return r.headers.forEach((B,Q)=>{J[Q]=B}),{data:P,headers:J,status:r.status,url:r.url}})()}get(t){var n=this;return(0,l.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"GET"}))})()}post(t){var n=this;return(0,l.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"POST"}))})()}put(t){var n=this;return(0,l.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PUT"}))})()}patch(t){var n=this;return(0,l.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})()}delete(t){var n=this;return(0,l.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})()}}W("CapacitorHttp",{web:()=>new ce})},4116:(se,q,w)=>{w.r(q),w.d(q,{TimerPageModule:()=>L});var l=w(6895),G=w(4719),b=w(2206),I=w(9855),H=w(5861);const K=(0,w(7423).fo)("NativeAudio",{web:()=>w.e(954).then(w.bind(w,954)).then(h=>new h.NativeAudioWeb)});var e=w(6353),D=w(5808);function z(h,a){if(1&h){const d=e.EpF();e.TgZ(0,"ion-icon",21),e.NdJ("click",function(){e.CHM(d);const E=e.oxw();return e.KtG(E.start())}),e.qZA()}}function N(h,a){if(1&h){const d=e.EpF();e.TgZ(0,"ion-icon",22),e.NdJ("click",function(){e.CHM(d);const E=e.oxw();return e.KtG(E.pause())}),e.qZA()}}function te(h,a){if(1&h&&(e.TgZ(0,"ion-col",23)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Focus"),e.qZA(),e.TgZ(5,"ion-card-subtitle"),e._uU(6),e.qZA()()()()),2&h){const d=e.oxw();e.xp6(6),e.hij("",d.math.ceil(d.focusTime/60)," minutes")}}function x(h,a){if(1&h&&(e.TgZ(0,"ion-col",23)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Short Break"),e.qZA(),e.TgZ(5,"ion-card-subtitle"),e._uU(6),e.qZA()()()()),2&h){const d=e.oxw();e.xp6(6),e.hij("",d.math.ceil(d.shortBreakTime/60)," minutes")}}function W(h,a){if(1&h&&(e.TgZ(0,"ion-col",23)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e._uU(4,"Long Break"),e.qZA(),e.TgZ(5,"ion-card-subtitle"),e._uU(6),e.qZA()()()()),2&h){const d=e.oxw();e.xp6(6),e.hij("",d.math.ceil(d.longBreakTime/60)," minutes")}}const R=function(h){return{complete:h}};var g=(()=>{return(h=g||(g={})).focus="Focus Time",h.short="Short Break",h.long="Long Break",g;var h})();class O{constructor(a){this.settingsService=a,this.math=Math,this.seconds=0,this.timerRunning=!1,this.state=g.focus,this.checkMarks=0,this.audio=K,this.started=!1,this.loadedDurations=!1}ngOnInit(){var a=this;return(0,H.Z)(function*(){a.audio.preload({assetId:"dingDong",assetPath:"ding-dong.wav",audioChannelNum:1,isUrl:!1}),a.audio.preload({assetId:"longBreak",assetPath:"longbreak.wav",audioChannelNum:1,isUrl:!1}),a.audio.preload({assetId:"flute",assetPath:"uplifting-flute.wav",audioChannelNum:1,isUrl:!1}),yield a.setTimes(),a.loadedDurations=!0})()}ionViewWillEnter(){this.started||this.setTimes()}start(){this.started=!0,this.timerRunning=!0,this.updateTimerProgressChunk(),this.runTimer()}pause(){this.timerRunning=!1}reset(){this.started=!1,this.timerRunning=!1,this.checkMarks=0,this.seconds=0,this.setTimes(),this.state=g.focus}runTimer(){const a=setInterval(()=>{switch(this.state){case g.focus:this.focusTime--;break;case g.short:this.shortBreakTime--;break;default:this.longBreakTime--}if(this.timerRunning)return this.focusTime<=0||this.shortBreakTime<=0||this.longBreakTime<=0?(this.setTimes(),this.changeState(),void(this.seconds=0)):void this.seconds++;clearInterval(a)},1e3)}currentCountDownTime(){return this.state===g.focus?this.focusTime:this.state===g.short?this.shortBreakTime:this.longBreakTime}progressStyles(){return{"stroke-dashoffset":this.seconds*this.timerProgressChunk*-1,stroke:this.state===g.focus?"#00FF00":"#ff9500"}}setTimes(){var a=this;return(0,H.Z)(function*(){yield a.settingsService.loadDurationSettings(),a.focusTime=a.convertToSeconds(a.settingsService.focusDuration),a.shortBreakTime=a.convertToSeconds(a.settingsService.shortDuration),a.longBreakTime=a.convertToSeconds(a.settingsService.longDuration)})()}changeState(){this.state===g.focus?(this.checkMarks++,this.checkMarks>=4?(this.state=g.long,this.soundAlarm()):(this.state=g.short,this.soundAlarm())):this.state===g.short?(this.state=g.focus,this.soundAlarm()):(this.timerRunning=!1,this.state=g.focus,this.soundAlarm(),this.checkMarks=0),this.updateTimerProgressChunk()}soundAlarm(){let a="dingDong";this.state===g.long&&(a="longBreak"),this.state===g.focus&&(a="flute"),this.audio.play({assetId:a,time:0})}convertToSeconds(a){return 60*a}updateTimerProgressChunk(){this.timerProgressChunk=870/this.convertToSeconds(this.state===g.focus?this.settingsService.focusDuration:this.state===g.short?this.settingsService.shortDuration:this.settingsService.longDuration)}static#e=this.\u0275fac=function(d){return new(d||O)(e.Y36(D.g))};static#t=this.\u0275cmp=e.Xpm({type:O,selectors:[["app-timer"]],decls:34,vars:21,consts:[[1,"timer-content"],[1,"content"],[3,"hidden"],["size","12",1,"flex","center"],[1,"clock"],["width","331.11mm","height","331.11mm","version","1.1","viewBox","0 0 331.11 331.11","xmlns","http://www.w3.org/2000/svg"],["id","filter1264","color-interpolation-filters","sRGB"],["flood-color","rgb(0,255,0)","result","flood"],["in","flood","in2","SourceGraphic","operator","in","result","composite1"],["in","composite1","result","blur","stdDeviation","8"],["dx","0","dy","0","result","offset"],["in","SourceGraphic","in2","offset","result","composite2"],["cx","165.56","cy","165.55","r","137.96","stroke-width","25","stroke-dasharray","870","fill","none",3,"ngStyle"],[1,"time-data"],[1,"time"],[1,"controls"],["color","primary","name","play-circle",3,"click",4,"ngIf"],["color","primary","name","pause-circle",3,"click",4,"ngIf"],["color","primary","name","refresh-circle",3,"click"],["name","checkmark-circle",3,"ngClass"],["size","6",4,"ngIf"],["color","primary","name","play-circle",3,"click"],["color","primary","name","pause-circle",3,"click"],["size","6"]],template:function(d,m){1&d&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"ion-grid",2)(3,"ion-row")(4,"ion-col",3)(5,"h1"),e._uU(6),e.qZA(),e.TgZ(7,"div",4),e.O4$(),e.TgZ(8,"svg",5)(9,"defs")(10,"filter",6),e._UZ(11,"feFlood",7)(12,"feComposite",8)(13,"feGaussianBlur",9)(14,"feOffset",10)(15,"feComposite",11),e.qZA()(),e._UZ(16,"circle",12),e.qZA(),e.kcU(),e.TgZ(17,"div",13)(18,"span",14),e._uU(19),e.qZA(),e.TgZ(20,"span"),e._uU(21,"minutes"),e.qZA()(),e.TgZ(22,"div",15),e.YNc(23,z,1,0,"ion-icon",16),e.YNc(24,N,1,0,"ion-icon",17),e.TgZ(25,"ion-icon",18),e.NdJ("click",function(){return m.reset()}),e.qZA()()()(),e.TgZ(26,"ion-col",3),e._UZ(27,"ion-icon",19)(28,"ion-icon",19)(29,"ion-icon",19)(30,"ion-icon",19),e.qZA(),e.YNc(31,te,7,1,"ion-col",20),e.YNc(32,x,7,1,"ion-col",20),e.YNc(33,W,7,1,"ion-col",20),e.qZA()()()()),2&d&&(e.xp6(2),e.Q6J("hidden",!m.loadedDurations),e.xp6(4),e.Oqu(!1===m.started?"---":!0===m.timerRunning?m.state:"Paused"),e.xp6(10),e.Q6J("ngStyle",m.progressStyles()),e.xp6(3),e.Oqu(m.math.ceil(m.currentCountDownTime()/60)),e.xp6(4),e.Q6J("ngIf",!m.timerRunning),e.xp6(1),e.Q6J("ngIf",m.timerRunning),e.xp6(3),e.Q6J("ngClass",e.VKq(13,R,m.checkMarks>=1)),e.xp6(1),e.Q6J("ngClass",e.VKq(15,R,m.checkMarks>=2)),e.xp6(1),e.Q6J("ngClass",e.VKq(17,R,m.checkMarks>=3)),e.xp6(1),e.Q6J("ngClass",e.VKq(19,R,m.checkMarks>=4)),e.xp6(1),e.Q6J("ngIf","Focus Time"!==m.state),e.xp6(1),e.Q6J("ngIf","Short Break"!==m.state),e.xp6(1),e.Q6J("ngIf","Long Break"!==m.state))},dependencies:[l.mk,l.O5,l.PC,b.PM,b.Zi,b.tO,b.Dq,b.wI,b.W2,b.jY,b.gu,b.Nd],styles:["h1[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{width:100%;text-align:center}.clock[_ngcontent-%COMP%]{position:relative;margin-bottom:50px}.clock[_ngcontent-%COMP%]   .time-data[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.clock[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:5em}.clock[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}svg[_ngcontent-%COMP%]{width:auto;height:200px;align-self:center;transform:rotate(270deg)}ion-icon[name=play-circle][_ngcontent-%COMP%], ion-icon[name=pause-circle][_ngcontent-%COMP%], ion-icon[name=refresh-circle][_ngcontent-%COMP%]{font-size:4em;cursor:pointer}.controls[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;position:absolute;bottom:-40px}ion-card[_ngcontent-%COMP%]{text-align:center}ion-icon[name=checkmark-circle][_ngcontent-%COMP%]{font-size:3em;color:#d3d3d3}ion-icon[name=checkmark-circle].complete[_ngcontent-%COMP%]{color:#0f0}.dark[_nghost-%COMP%]   svg[_ngcontent-%COMP%]   tspan[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]   tspan[_ngcontent-%COMP%]{fill:#fff}.dark[_nghost-%COMP%]   ion-icon[name=checkmark-circle][_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-icon[name=checkmark-circle][_ngcontent-%COMP%]{color:#3f3f3f}.dark[_nghost-%COMP%]   ion-icon[name=checkmark-circle].complete[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-icon[name=checkmark-circle].complete[_ngcontent-%COMP%]{color:#0f0}"]})}const ne=[{path:"",component:O}];class A{static#e=this.\u0275fac=function(d){return new(d||A)};static#t=this.\u0275mod=e.oAB({type:A});static#n=this.\u0275inj=e.cJS({imports:[I.Bz.forChild(ne),I.Bz]})}class L{static#e=this.\u0275fac=function(d){return new(d||L)};static#t=this.\u0275mod=e.oAB({type:L});static#n=this.\u0275inj=e.cJS({imports:[l.ez,G.u5,b.Pc,A]})}}}]);