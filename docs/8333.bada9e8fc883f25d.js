"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8333],{8333:(Z,f,r)=>{r.r(f),r.d(f,{TimerPageModule:()=>m});var a=r(6895),k=r(4719),c=r(2206),d=r(9855),p=r(5861),t=r(6353),T=r(5808);function _(s,e){if(1&s){const n=t.EpF();t.TgZ(0,"ion-icon",21),t.NdJ("click",function(){t.CHM(n);const g=t.oxw();return t.KtG(g.start())}),t.qZA()}}function C(s,e){if(1&s){const n=t.EpF();t.TgZ(0,"ion-icon",22),t.NdJ("click",function(){t.CHM(n);const g=t.oxw();return t.KtG(g.pause())}),t.qZA()}}function P(s,e){if(1&s&&(t.TgZ(0,"ion-col",23)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),t._uU(4,"Focus"),t.qZA(),t.TgZ(5,"ion-card-subtitle"),t._uU(6),t.qZA()()()()),2&s){const n=t.oxw();t.xp6(6),t.hij("",n.math.ceil(n.focusTime/60)," minutes")}}function M(s,e){if(1&s&&(t.TgZ(0,"ion-col",23)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),t._uU(4,"Short Break"),t.qZA(),t.TgZ(5,"ion-card-subtitle"),t._uU(6),t.qZA()()()()),2&s){const n=t.oxw();t.xp6(6),t.hij("",n.math.ceil(n.shortBreakTime/60)," minutes")}}function v(s,e){if(1&s&&(t.TgZ(0,"ion-col",23)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),t._uU(4,"Long Break"),t.qZA(),t.TgZ(5,"ion-card-subtitle"),t._uU(6),t.qZA()()()()),2&s){const n=t.oxw();t.xp6(6),t.hij("",n.math.ceil(n.longBreakTime/60)," minutes")}}const l=function(s){return{complete:s}};var i=(()=>{return(s=i||(i={})).focus="Focus Time",s.short="Short Break",s.long="Long Break",i;var s})();class h{constructor(e){this.settingsService=e,this.math=Math,this.seconds=0,this.timerRunning=!1,this.state=i.focus,this.checkMarks=0,this.started=!1,this.loadedDurations=!1}ngOnInit(){var e=this;return(0,p.Z)(function*(){yield e.setTimes(),e.loadedDurations=!0,e.shortBreakSound=new Audio("./assets/sounds/ding-dong.wav"),e.longBreakSound=new Audio("./assets/sounds/longbreak.wav"),e.workSound=new Audio("./assets/sounds/uplifting-flute.wav")})()}ionViewWillEnter(){this.started||this.setTimes()}start(){this.started=!0,this.timerRunning=!0,this.updateTimerProgressChunk(),this.runTimer()}pause(){this.timerRunning=!1}reset(){this.started=!1,this.timerRunning=!1,this.checkMarks=0,this.seconds=0,this.setTimes(),this.state=i.focus}runTimer(){const e=setInterval(()=>{switch(this.state){case i.focus:this.focusTime--;break;case i.short:this.shortBreakTime--;break;default:this.longBreakTime--}if(this.timerRunning)return this.focusTime<=0||this.shortBreakTime<=0||this.longBreakTime<=0?(this.setTimes(),this.changeState(),void(this.seconds=0)):void this.seconds++;clearInterval(e)},1e3)}currentCountDownTime(){return this.state===i.focus?this.focusTime:this.state===i.short?this.shortBreakTime:this.longBreakTime}progressStyles(){return{"stroke-dashoffset":this.seconds*this.timerProgressChunk*-1,stroke:this.state===i.focus?"#00FF00":"#ff9500"}}setTimes(){var e=this;return(0,p.Z)(function*(){yield e.settingsService.loadDurationSettings(),e.focusTime=e.convertToSeconds(e.settingsService.focusDuration),e.shortBreakTime=e.convertToSeconds(e.settingsService.shortDuration),e.longBreakTime=e.convertToSeconds(e.settingsService.longDuration)})()}changeState(){this.state===i.focus?(this.checkMarks++,this.checkMarks>=4?(this.state=i.long,this.soundAlarm()):(this.state=i.short,this.soundAlarm())):this.state===i.short?(this.state=i.focus,this.soundAlarm()):(this.timerRunning=!1,this.state=i.focus,this.soundAlarm(),this.checkMarks=0),this.updateTimerProgressChunk()}soundAlarm(){this.state===i.short?this.shortBreakSound.play():this.state===i.long?this.longBreakSound.play():this.workSound.play()}convertToSeconds(e){return 60*e}updateTimerProgressChunk(){this.timerProgressChunk=870/this.convertToSeconds(this.state===i.focus?this.settingsService.focusDuration:this.state===i.short?this.settingsService.shortDuration:this.settingsService.longDuration)}static#t=this.\u0275fac=function(n){return new(n||h)(t.Y36(T.g))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["app-timer"]],decls:34,vars:21,consts:[[1,"timer-content"],[1,"content"],[3,"hidden"],["size","12",1,"flex","center"],[1,"clock"],["width","331.11mm","height","331.11mm","version","1.1","viewBox","0 0 331.11 331.11","xmlns","http://www.w3.org/2000/svg"],["id","filter1264","color-interpolation-filters","sRGB"],["flood-color","rgb(0,255,0)","result","flood"],["in","flood","in2","SourceGraphic","operator","in","result","composite1"],["in","composite1","result","blur","stdDeviation","8"],["dx","0","dy","0","result","offset"],["in","SourceGraphic","in2","offset","result","composite2"],["cx","165.56","cy","165.55","r","137.96","stroke-width","25","stroke-dasharray","870","fill","none",3,"ngStyle"],[1,"time-data"],[1,"time"],[1,"controls"],["color","primary","name","play-circle",3,"click",4,"ngIf"],["color","primary","name","pause-circle",3,"click",4,"ngIf"],["color","primary","name","refresh-circle",3,"click"],["name","checkmark-circle",3,"ngClass"],["size","6",4,"ngIf"],["color","primary","name","play-circle",3,"click"],["color","primary","name","pause-circle",3,"click"],["size","6"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"ion-grid",2)(3,"ion-row")(4,"ion-col",3)(5,"h1"),t._uU(6),t.qZA(),t.TgZ(7,"div",4),t.O4$(),t.TgZ(8,"svg",5)(9,"defs")(10,"filter",6),t._UZ(11,"feFlood",7)(12,"feComposite",8)(13,"feGaussianBlur",9)(14,"feOffset",10)(15,"feComposite",11),t.qZA()(),t._UZ(16,"circle",12),t.qZA(),t.kcU(),t.TgZ(17,"div",13)(18,"span",14),t._uU(19),t.qZA(),t.TgZ(20,"span"),t._uU(21,"minutes"),t.qZA()(),t.TgZ(22,"div",15),t.YNc(23,_,1,0,"ion-icon",16),t.YNc(24,C,1,0,"ion-icon",17),t.TgZ(25,"ion-icon",18),t.NdJ("click",function(){return o.reset()}),t.qZA()()()(),t.TgZ(26,"ion-col",3),t._UZ(27,"ion-icon",19)(28,"ion-icon",19)(29,"ion-icon",19)(30,"ion-icon",19),t.qZA(),t.YNc(31,P,7,1,"ion-col",20),t.YNc(32,M,7,1,"ion-col",20),t.YNc(33,v,7,1,"ion-col",20),t.qZA()()()()),2&n&&(t.xp6(2),t.Q6J("hidden",!o.loadedDurations),t.xp6(4),t.Oqu(!1===o.started?"---":!0===o.timerRunning?o.state:"Paused"),t.xp6(10),t.Q6J("ngStyle",o.progressStyles()),t.xp6(3),t.Oqu(o.math.ceil(o.currentCountDownTime()/60)),t.xp6(4),t.Q6J("ngIf",!o.timerRunning),t.xp6(1),t.Q6J("ngIf",o.timerRunning),t.xp6(3),t.Q6J("ngClass",t.VKq(13,l,o.checkMarks>=1)),t.xp6(1),t.Q6J("ngClass",t.VKq(15,l,o.checkMarks>=2)),t.xp6(1),t.Q6J("ngClass",t.VKq(17,l,o.checkMarks>=3)),t.xp6(1),t.Q6J("ngClass",t.VKq(19,l,o.checkMarks>=4)),t.xp6(1),t.Q6J("ngIf","Focus Time"!==o.state),t.xp6(1),t.Q6J("ngIf","Short Break"!==o.state),t.xp6(1),t.Q6J("ngIf","Long Break"!==o.state))},dependencies:[a.mk,a.O5,a.PC,c.PM,c.Zi,c.tO,c.Dq,c.wI,c.W2,c.jY,c.gu,c.Nd],styles:["h1[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{width:100%;text-align:center}.clock[_ngcontent-%COMP%]{position:relative;margin-bottom:50px}.clock[_ngcontent-%COMP%]   .time-data[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.clock[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:5em}.clock[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;text-align:center}svg[_ngcontent-%COMP%]{width:auto;height:200px;align-self:center;transform:rotate(270deg)}ion-icon[name=play-circle][_ngcontent-%COMP%], ion-icon[name=pause-circle][_ngcontent-%COMP%], ion-icon[name=refresh-circle][_ngcontent-%COMP%]{font-size:4em;cursor:pointer}.controls[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;position:absolute;bottom:-40px}ion-card[_ngcontent-%COMP%]{text-align:center}ion-icon[name=checkmark-circle][_ngcontent-%COMP%]{font-size:3em;color:#d3d3d3}ion-icon[name=checkmark-circle].complete[_ngcontent-%COMP%]{color:#0f0}.dark[_nghost-%COMP%]   svg[_ngcontent-%COMP%]   tspan[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]   tspan[_ngcontent-%COMP%]{fill:#fff}.dark[_nghost-%COMP%]   ion-icon[name=checkmark-circle][_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-icon[name=checkmark-circle][_ngcontent-%COMP%]{color:#3f3f3f}.dark[_nghost-%COMP%]   ion-icon[name=checkmark-circle].complete[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   ion-icon[name=checkmark-circle].complete[_ngcontent-%COMP%]{color:#0f0}"]})}const O=[{path:"",component:h}];class u{static#t=this.\u0275fac=function(n){return new(n||u)};static#e=this.\u0275mod=t.oAB({type:u});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(O),d.Bz]})}class m{static#t=this.\u0275fac=function(n){return new(n||m)};static#e=this.\u0275mod=t.oAB({type:m});static#n=this.\u0275inj=t.cJS({imports:[a.ez,k.u5,c.Pc,u]})}}}]);